<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/build/wasm/AudioWorklet.js"></script>
</head>

<body id="body">
    <span id="volume_name"></span>
    <input style="width: 300px;" type="range" class="slider" id="volume">
    <span id="volume_value">30%</span><br>

</body>

<script>

    function onAudioProcessorInitialized(node) {
        console.log(node.parameters.get(0));
        document.querySelector('#pitch').oninput = (e) => {
            document.querySelector('#pitchValue').innerHTML = parseInt(e.target.value);
        };

        // Volume Slider
        const volumeSlider = document.querySelector('#volume');
        volumeSlider.oninput = (e) => {
            document.querySelector('#volumeValue').innerHTML = parseInt(e.target.value) + '%';
            node.parameters.get(0).value = parseFloat(e.target.value) / 100;
        };

        node.parameters.get(0).value = parseFloat(volumeSlider.value) / 100;
    }
</script>

</html>
